// Errors: on_bad_lexatom (Encoding UTF16);
// CHOICES: bad-utf16-1st, bad-utf16-2nd, good-utf16;
token { X; NEWLINE; }

mode X :
{
    .+ => TK_X;
    \n => TK_NEWLINE;

    on_bad_lexatom { 
        printf("bad_lexatom: '0x%04X'\n", (int)BadLexatom); 
        self.send(&self, TK_TERMINATION);
    }
}

